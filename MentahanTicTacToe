# Membuat papan permainan: 9 kotak, semuanya kosong dulu
papan = [" " for _ in range(9)]  # papan index 0–8, diisi spasi sebagai kosong

# Fungsi untuk mencetak papan ke layar
def cetak_papan():  # tugasnya: menampilkan papan
    # Menyusun 3 baris dengan mengambil data dari variabel papan
    print(f"""
     {papan[0]} | {papan[1]} | {papan[2]}   # baris 1
    -----------
     {papan[3]} | {papan[4]} | {papan[5]}   # baris 2
    -----------
     {papan[6]} | {papan[7]} | {papan[8]}   # baris 3
    """)

# Fungsi untuk mengecek apakah pemain menang
def cek_menang(pemain):  # parameter pemain berisi "X" atau "O"
    # Semua kemungkinan pola menang yang valid di papan
    kondisi_menang = [
        [0,1,2], [3,4,5], [6,7,8],  # menang baris
        [0,3,6], [1,4,7], [2,5,8],  # menang kolom
        [0,4,8], [2,4,6]            # menang diagonal
    ]
    # Loop satu tahan satu kondisi menang
    for kondisi in kondisi_menang:
        # Jika semua posisi dalam kondisi berisi tanda milik pemain → menang
        if all(papan[i] == pemain for i in kondisi):
            return True  # artinya "menang"
    return False  # jika tidak terpenuhi, belum menang

# Fungsi mengecek apakah permainan seri (draw)
def cek_seri():
    return " " not in papan  # jika tidak ada kotak kosong, papan penuh → seri

# Fungsi untuk menjalankan langkah pemain di setiap giliran
def langkah_pemain(pemain):
    while True:  # ulang terus sampai input benar
        try:
            # Meminta input pemain 1–9, lalu diubah ke index 0–8
            posisi = int(input(f"Pemain {pemain}, pilih posisi (1-9): ")) - 1
            # Jika kotaknya kosong, langkah valid
            if papan[posisi] == " ":
                papan[posisi] = pemain  # memasang tanda pemain di papan
                break  # keluar dari loop
            else:
                print("Kotak sudah diisi, pilih lagi ya!")  # kotak penuh
        except (ValueError, IndexError):
            # Kalau input bukan angka atau salah, suruh input lagi
            print("Masukkan angka 1 sampai 9 ya!")

# Fungsi utama untuk menjalankan game
def mulai_permainan():
    print("Halo! Kita main Tic Tac Toe ya!")  # sapaan manis
    print("Ini nomor posisinya:")  # memberi tahu tata letak angka
    print("1 2 3")
    print("4 5 6")
    print("7 8 9")

    cetak_papan()  # cetak papan awal (kosong)
    pemain_sekarang = "X"  # X mulai dulu

    while True:  # loop permainan
        langkah_pemain(pemain_sekarang)  # minta langkah dari pemain
        cetak_papan()  # tampilkan papan terbaru

        # Cek apakah pemain menang
        if cek_menang(pemain_sekarang):
            print(f"Horeee! {pemain_sekarang} menang! Kamu hebat!")  # ucap menang
            break  # game selesai

        # Cek apakah seri
        if cek_seri():
            print("Yahhh seri… gapapa, kita main lagi nanti!")  # ucap seri
            break  # game selesai

        # Ganti pemain: jika X → O, jika O → X
        pemain_sekarang = "O" if pemain_sekarang == "X" else "X"

# Menjalankan permainan
mulai_permainan()
